<!doctype html>
<html class="no-js" lang="zxx">
    
<!-- checkout31:27-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Giỏ hàng</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap V4.1.3 Fremwork CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/responsive.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/shoppingcart_checkout.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/dichvu.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <link href="image/icon/icon-logo.PNG" rel="shortcut icon" />
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" /> 

</head>
<body>
    <nav id="nav_menu">
        <ul class="menu">
            <li>
                <a href="index.html">
                    <img src="image/icon/home-icon.png" alt="trang chủ">
                    <span>TRANG CHỦ</span>
                </a>
            </li>
            <li>
                <a href="giongcho.html">
                    <img src="image/icon/giongcho-icon.png" alt="giống chó">
                    <span>GIỐNG CHÓ</span>

                </a>
            </li>
            <li>
                <a href="./loaikhac.html">
                    <img src="image/icon/cuncon-icon.png" alt="cún con">
                    <span>LOÀI KHÁC</span>
                </a>
            </li>
            <li>
                <a href="phukien.html">
                    <img src="image/icon/phukien-icon.png" alt="phụ kiện">
                    <span>PHỤ KIỆN</span>
                </a>
            </li>
            <li>
                <a href="cachnuoi.html">
                    <img src="image/icon/cachnuoi-icon.png" alt="cách nuôi">
                    <span>CÁCH NUÔI</span>
                </a>
            </li>
            <li>
                <a href="dichvu.html">
                    <img src="image/icon/dichvu-icon.png" alt="dịch vụ">
                    <span>DỊCH VỤ</span>
                </a>
            </li>
            <li>
                <a href="gioithieu.html">
                    <img src="image/icon/gioithieu-icon.png" alt="giới thiệu">
                    <span>GIỚI THIỆU</span>
                </a>
            </li>
            <li>
                <a href="lienhe.html">
                    <img src="image/icon/lienhe-icon.png" alt="liên hệ">
                    <span>LIÊN HỆ</span>
                </a>
            </li>
        </ul>
    </nav>    
  <!-- shopping cart -->
  <div class="headline">
    <h1>Giỏ hàng</h1>
</div>
  <div class="Shopping-cart-area pt-60 pb-60">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <form action="#">
                    <div class="table-content table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="li-product-remove">Xóa</th>
                                    <th class="li-product-thumbnail">Ảnh</th>
                                    <th class="cart-product-name">Sản phẩm</th>
                                    <th class="li-product-price">Giá</th>
                                    <th class="li-product-quantity">Số lượng</th>
                                    <th class="li-product-subtotal">Tổng</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="li-product-remove"><a href="#" onclick="removeProduct(this);"><i class="fa fa-times"></i></a></td>
                                    <td class="li-product-thumbnail"><a href="#"><img style="width: 190px;" src="./image/icon/a1.jpg" alt="Li's Product Image"></a></td>
                                    <td class="li-product-name"><a href="#">Gold đần</a></td>
                                    <td class="li-product-price"><span class="amount">60000đ</span></td>
                                    <td class="quantity">
                                            <input type="button" value="-" class="button minus" onclick="adjustQuantity(this, 'decrease')">
                                            <input type="text" class="input-text quantityInput" step="1" min="1" max="9999" name="quanlity" value="1" title="SL" size="4" pattern="[0-9]*" inputmode="numeric">
                                            <input type="button" value="+" class="button plus" onclick="adjustQuantity(this, 'increase')">
                                    </td>
                                    <td class="product-subtotal"><span class="total-amount">60000đ</span></td>
                                </tr>
                                <tr>
                                    <td class="li-product-remove"><a href="#" onclick="removeProduct(this);"><i class="fa fa-times"></i></a></td>
                                    <td class="li-product-thumbnail"><a href="#" ><img style="width: 190px;" src="./image/icon/a6.jpg!w700wp" alt="Li's Product Image"></a></td>
                                    <td class="li-product-name"><a href="#">Histky</a></td>
                                    <td class="li-product-price"><span class="amount">70000đ</span></td>
                                    <td class="quantity">
                                        <input type="button" value="-" class="button minus" onclick="adjustQuantity(this, 'decrease')">
                                        <input type="text" class="input-text quantityInput" step="1" min="1" max="9999" name="quanlity" value="1" title="SL" size="4" pattern="[0-9]*" inputmode="numeric">
                                        <input type="button" value="+" class="button plus" onclick="adjustQuantity(this, 'increase')">
                                    </td>
                                    <td class="product-subtotal"><span class="total-amount">70000đ</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row">
                        <div class="col-md-5 ml-auto">
                            <div class="cart-page-total">
                                <h2> Tổng số giỏ hàng</h2>
                                <ul>
                                    <li>Tổng phụ <span id="subtotal">0đ</span></li>
                                    <li>Gía <span id="totalPrice">0đ</span></li>
                                </ul>
                               
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="coupon-all">
                                <div class="coupon"></div>
                                <div class="coupon2">                              
                                        <button class="coupon-checkout">
                                            <a href="./checkout.html">Thanh toán</a>
                                        </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="./javascript/style_javascript.js"></script>
<script>
    function adjustQuantity(element, action) {
        var quantityInput = element.parentNode.querySelector('.quantityInput');
        var currentQuantity = parseInt(quantityInput.value, 10);

        if (action === 'decrease' && currentQuantity > 1) {
            quantityInput.value = currentQuantity - 1;
        } else if (action === 'increase') {
            quantityInput.value = currentQuantity + 1;
        }
        total_cart();
    }

    function removeProduct(element) {
        var row = element.parentNode.parentNode;
        row.parentNode.removeChild(row);
        total_cart();
    }
    function total_cart() {
            var rows = document.querySelectorAll('tbody tr');
            var subtotal = 0;

            rows.forEach(function (row) {
                var price = parseFloat(row.querySelector('.li-product-price span').innerText.replace('đ', '').replace(',', ''));
                var quantity = parseInt(row.querySelector('.quantityInput').value);
                var rowTotal = price * quantity;

                row.querySelector('.total-amount').innerText = formatCurrency(rowTotal);
                subtotal += rowTotal;
            });

            // Hiển thị tổng cuối cùng
            document.getElementById('subtotal').innerText = formatCurrency(subtotal);
            document.getElementById('totalPrice').innerText = formatCurrency(subtotal);
        }


        function formatCurrency(value) {
        return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value);
    }
        // Initial call to update totals
        total_cart();
</script>
</body>

</html>
